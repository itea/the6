<!DOCTYPE html>
<html>
<head>
	<meta charset="gbk">
	<title>TITLE</title>
	<style type="text/css">
html, body {padding: 0; margin: 0}
.boxwrap {width: 800px; height:400px;overflow:hidden; position:relative;}
.boxwrap {-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none;}
.boxwrap .scroll {position:absolute; z-index: 10;}
.boxwrap .scroll.horizontal {right:0;bottom:0;overflow-x:scroll;}
.boxwrap .scroll.vertical {right:0;bottom:0;overflow-y:scroll;}
.boxwrap .scroll div {width: 1px; height: 1px;}

.code-box {position: relative; padding: 0 30px 30px 0; margin: 0 -30px -30px 0; background-color: #dee; overflow:auto; height:100%; width:100%;}
.code-box {font: normal normal normal 14px/17px monospace; cursor:auto;}

.code-box .code-measure {position:absolute; height: 0; visibility: hidden; overflow:hidden; margin:0 0 0 36px;}
.code-box .code-measure pre {/*white-space: pre-wrap;*/ margin:0;padding:0; position:static;}
.code-box .code-measure span {}

.code-box .code-cursor {position:absolute; border-left:1px solid black; height: 15px; width: 0px; overflow:hidden; cursor:text;z-index:10;}
.code-box .code-cursor input {border: none; outline: none; padding: 0; margin:0;}
/*.code-box .code-cursor input {opacity:1.01; background-color:green;}*/
.code-box .code-highlight {position:absolute; top:0;left:0;}
.code-box .code-highlight .selected {position:absolute; background-color: rgb(132, 255, 172); z-index:1;}
.code-box .nubar {position:absolute; top:0; left:0; min-height: 100%; width: 36px; background-color:#eee; z-index: 10;}
.code-box .menubar {border-bottom: 1px dotted silver; position:relative; background-color:white;cursor:auto;}
.code-box .menubar a {padding: 0 6px; display: inline-block; text-decoration: none;color: gray;}
.code-box .menubar a:hover {color: white; background-color: gray;}

.codes:empty {display:block;}
.codes {list-style: none outside; position:relative;padding:0 0 0 0; margin:0 1px 0 36px; display: inline-block;}
.codes {-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none;}
.codes ::selection {background-color: transparent;}
.codes ::-moz-selection {background-color: transparent;}
.codes li {margin: 0; padding:0; /*white-space: pre;*/ border:none; outline:none; position:relative;}
.codes li {counter-increment: lineNumber;}
.codes .nu {position:absolute; left:-36px;width:32px; padding-right: 4px;text-align:right; color:#806060;z-index:11;}
.codes .nu {-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none;}
.codes .nu:after {content: counter(lineNumber);}
.codes pre:empty:after {content:" ";}
.codes pre {margin: 0; padding: 0; border: none; z-index: 9; position:relative;}
/*.codes pre {white-space: pre-wrap;}*/

@-moz-document url-prefix() {
    /* firefox will overlap outer element padding and inner element margin, so hack */
    .codes {margin:0 31px 31px 36px;}
}
#bb {padding:20px;}
	</style>
    <script language="javascript" src="markless.js"></script>
    <script language="javascript" src="basic.js"></script>
    <script language="javascript" src="inputcontroller.js"></script>
    <script language="javascript" src="linebox.js"></script>
    <script language="javascript" src="codebox.js"></script>
    <script language="javascript" src="cursor.js"></script>
    <script language="javascript" src="measure.js"></script>
    <script language="javascript" src="highlight.js"></script>
    <script language="javascript" src="codeline.js"></script>
    <script language="javascript" src="misc.js"></script>
	<script language="javascript" id="inpagecodes">
var fn = function () {
    var inpagecodes = document.getElementById("inpagecodes").textContent;
    var inpagestyle = document.querySelector("style").textContent;

    var coderBox = createCodeBox(inpagestyle);
    document.getElementById("bb").appendChild( coderBox.node );
    log.on();
};
window.onload = function() {
    fn();
};
	</script>
</head>
<body>
<div id="bb"></div>
</body>
</html>
